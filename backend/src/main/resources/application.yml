spring:
  application:
    name: ai-professor
  profiles:
    active: ${PROFILE:dev}

---
spring:
  config:
    activate:
      on-profile: test
  mvc:
    async:
      request-timeout: 900000  # 10 minutes for long-running document processing
  datasource:
    url: jdbc:mysql://localhost:3306/aiprofessor_test?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
    username: root
    password: test1234
    driver-class-name: com.mysql.cj.jdbc.Driver
  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.MySQLDialect
  flyway:
    enabled: true
    baseline-on-migrate: true
    locations: classpath:db/migration

jwt:
  secret: test-secret-key-for-jwt-token-generation-minimum-256-bits-required-for-hs256-algorithm
  expiration: 86400000 # 24 hours

openai:
  api:
    key: test-mock-api-key
    url: https://api.openai.com/v1/responses
    model: gpt-5
    max-tokens: 128000

claude:
  api:
    key: test-mock-api-key
    url: https://api.anthropic.com/v1/messages
    model: claude-sonnet-4-5
    max-tokens: 64000

session:
  max-concurrent-sessions: 1

pdf:
  max-size-bytes: 31457280 # 30MB

app:
  base-url: http://localhost:8080

---
spring:
  config:
    activate:
      on-profile: dev
  mvc:
    async:
      request-timeout: 600000  # 10 minutes for long-running document processing
  datasource:
    url: jdbc:mysql://localhost:3306/aiprofessor_dev?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
    username: root
    password: dev1234
    driver-class-name: com.mysql.cj.jdbc.Driver
  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.MySQLDialect
  flyway:
    enabled: true
    baseline-on-migrate: true
    locations: classpath:db/migration

jwt:
  secret: ${JWT_SECRET:dev-secret-key-for-jwt-token-generation-minimum-256-bits-required}
  expiration: 86400000 # 24 hours

openai:
  api:
    key: ${OPENAI_API_KEY:dev-mock-api-key}
    url: https://api.openai.com/v1/responses
    model: gpt-5
    max-tokens: 128000

claude:
  api:
    key: ${CLAUDE_API_KEY:dev-mock-api-key}
    url: https://api.anthropic.com/v1/messages
    model: claude-sonnet-4-5
    max-tokens: 64000

session:
  max-concurrent-sessions: 1

pdf:
  max-size-bytes: 31457280 # 30MB

app:
  base-url: http://localhost:8080

---
spring:
  config:
    activate:
      on-profile: prod
  mvc:
    async:
      request-timeout: 600000  # 10 minutes for long-running document processing
  datasource:
    url: jdbc:mysql://${DB_HOST}:${DB_PORT}/${DB_NAME}?useSSL=true&requireSSL=true&serverTimezone=UTC
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
    driver-class-name: com.mysql.cj.jdbc.Driver
    hikari:
      maximum-pool-size: 20
      minimum-idle: 5
      connection-timeout: 30000
  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    properties:
      hibernate:
        format_sql: false
        dialect: org.hibernate.dialect.MySQLDialect
  flyway:
    enabled: true
    baseline-on-migrate: true
    locations: classpath:db/migration

jwt:
  secret: ${JWT_SECRET}
  expiration: 86400000 # 24 hours

openai:
  api:
    key: ${OPENAI_API_KEY}
    url: https://api.openai.com/v1/responses
    model: gpt-5
    max-tokens: 128000

claude:
  api:
    key: ${CLAUDE_API_KEY}
    url: https://api.anthropic.com/v1/messages
    model: claude-sonnet-4-5
    max-tokens: 64000

session:
  max-concurrent-sessions: 1

pdf:
  max-size-bytes: 31457280 # 30MB

app:
  base-url: ${BASE_URL:https://api.example.com}
